# python数据模型

- collections.namedtuple
  - 用例
    - `Card = collections.namedtuple('Card',['rank','suit'])`
  - 作用
    - 用以创建只有少数属性但没有方法的对象
- random.choice()
- 迭代通常是隐式的，譬如说一个集合类型没有实现 `__contains__` 方
法，那么 in 运算符就会按顺序做一次迭代搜索。
  - 迭代时，会隐式调用`x.__iter__()`
- 数值
  - 向量
    - `v1 = Vector(3,4)`
    - 向量加减 `v1+v2`
    - 向量乘 `v1 * 3`
    - 向量模 `abs(v1)`

- `__repr__ 和 __str__`
  - 默认实现是没什么用的，尽可能实现你的`__repr__`方法
  - `__repr__`所返回的字符串应该准确、无歧义，并尽可能表达出如何用代码创建这个被打印的对象
  - `__str__`是在str()函数中使用，目的是对终端用户更友好（而不是对程序员）
  - 如果你只想实现这两个特殊方法中的一个，`__repr__` 是更好的选择，因为如果一个对象没有 `__str__` 函数，而 Python 又需要调用它的时候，解释器会用 `__repr__` 作为替代。

- 中缀运算符
  - `__add__` 对+进行重载
  - `__mul__` 对*进行重载
  - `__rmul__`
  - 中缀运算符的基本原则：不改变操作对象，而是生成新的对象。

- `__bool__`
  - 默认情况下，我们自己定义的类的实例总是被认为是真的
  - `__len__` & `__bool__`
  - bool(x) 的背后是调用`x.__bool__()` 的结果；如果不存在 `__bool__` 方法，那么 bool(x) 会尝试调用 `x.__len__()`。若返回 0，则 bool 会返回 False；否则返回True。


  seq.__getitem__  10.4.1